\chapter{Results} % Chapter title

\label{chapter:results} % For referencing the chapter elsewhere, use \ref{chapter:computational_neuro} 

\def \resultboxplot {0.8}
%----------------------------------------------------------------------------------------


\section{Quantum Neural Network}
\label{chapter:results_qnn}
All of the datasets mentioned in \ref{subsection:qnn_datasets_and_acqusition} have been trained, then evaluated on the remote general-purpose simulator \textit{ibmq\_qasm\_simulator} and on a real quantum system. The real quantum system is the IBM Falcon r5.11L processor \code{ibmq\_manila v1.0.30}.\par
There are two dataset files used, the binary and extended datasets as mentioned in the subsection \ref{subsection:qnn_datasets_and_acqusition} and referred to in the evaluations in subsections \ref{subsection:qnn_evaluation_on_simulator} and \ref{subsection:qnn_evaluation_on_real_hardware}.\par
For evaluation, the weights from the best training run are chosen, which reached the highest accuracy for each dataset, as well as the VQC and optimizer mentioned in chapter \ref{subsection:evaluation_runs}.
 
\clearpage
\subsection{Evaluation On Simulator}
\label{subsection:qnn_evaluation_on_simulator}
\textbf{Simulator:} General-purpose simulator from \code{qiskit} \textit{ibmq\_qasm\_simulator}. The number of shots for each circuit evaluation on the managed simulator was $4000$.

\subsubsection{Binary datasets}
\label{subsubsection:binary_datasets_simulator}
\begin{table}[!h]
	\centering
	\resizebox{.95\textwidth}{!}{%
    	\begin{tabular}{p{0.12\textwidth}p{0.15\textwidth}|p{0.13\textwidth}p{0.13\textwidth}p{0.13\textwidth}p{0.13\textwidth}}
    		\hline 
    		\textbf{Dataset}        & \textbf{VQC} & \textbf{COBYLA} & \textbf{SPSA}  & \textbf{AMSGR.} & \textbf{BFGS} \\
    		\hline 
    		\multirow{6}{*}{\textbf{Iris}}   & q\_circuit\_01 & 1.00  & 1.00 & 1.00   & 1.00 \\
    		                        & q\_circuit\_02 & 1.00  & 1.00 & 1.00   & 1.00 \\
    		                        & q\_circuit\_03 & 1.00  & 1.00 & 1.00   & 1.00 \\
    		                        & q\_circuit\_04 & 1.00  & 0.885 & 0.950   & 1.00 \\
    		                        & q\_circuit\_05 & 1.00  & 1.00 & 1.00   & 1.00 \\
    		\cline{2-6} 
    		                        & \textbf{Average}      & \textbf{1.00}  & 0.977 & 0.990   & \textbf{1.00} \\
    		\hline 
    		\multirow{6}{*}{\textbf{Rain}}   & q\_circuit\_01 & 0.745  & 0.665 & 0.650   & 0.730 \\
    		                        & q\_circuit\_02 & 0.625  & 0.665 & 0.785   & 0.695 \\
    		                        & q\_circuit\_03 & 0.580 & 0.800 & 0.800  & 0.720 \\
    		                        & q\_circuit\_04 & 0.395  & 0.545 & \underline{0.825}   & 0.570 \\
    		                        & q\_circuit\_05 & 0.620 & 0.620 & 0.615   & 0.685 \\
    		\cline{2-6} 
    		                        & \textbf{Average}      & 0.593  & 0.659 & \textbf{0.735}   & 0.680 \\
    		\hline
    		\multirow{6}{*}{\textbf{Vlds}}   & q\_circuit\_01 & 0.845  & 0.820 & 0.800   & 0.800 \\
    		                        & q\_circuit\_02 & 0.770  & 0.730 & 0.780   & 0.650 \\
    		                        & q\_circuit\_03 & 0.795  & 0.760 & 0.750   & 0.790 \\
    		                        & q\_circuit\_04 & 0.805  & 0.525 & 0.750   & \underline{0.925} \\
    		                        & q\_circuit\_05 & 0.795  & 0.600 & 0.900   & 0.690 \\
    		\cline{2-6} 
    		                        & \textbf{Average}      & \textbf{0.802}  & 0.687 & 0.796   & 0.771 \\
    		\hline
    		\multirow{6}{*}{\textbf{Custom}} & q\_circuit\_01 & 0.515  & 0.550 & 0.700   & 0.630 \\
    		                        & q\_circuit\_02 & 0.690  & 0.550 & 0.500   & 0.605 \\
    		                        & q\_circuit\_03 & 0.700  & 0.645 & 0.500   & 0.700 \\
    		                        & q\_circuit\_04 & 0.590  & 0.535 & 0.550  & 0.520 \\
    		                        & q\_circuit\_05 & 0.505  & 0.65 & 0.615   & \underline{0.740} \\
    		\cline{2-6} 
    		                        & \textbf{Average}      & 0.600 & 0.586 & 0.573   & \textbf{0.639} \\
    		\hline 
    		\multirow{6}{*}{\textbf{Adhoc}}  & q\_circuit\_01 & 0.600  & 0.665 & 0.660   & 0.720 \\
    		                        & q\_circuit\_02 & 0.700  & 0.795 & 0.650   & \underline{0.800} \\
    		                        & q\_circuit\_03 & 0.700  & 0.705 & 0.660   & 0.650 \\
    		                        & q\_circuit\_04 & 0.705 & 0.650 & 0.645   & 0.650 \\
    		                        & q\_circuit\_05 & 0.565 & 0.690 & 0.65   & 0.715 \\
    		\cline{2-6} 
    		                        & \textbf{Average} & 0.654  & 0.701 & 0.653  & \textbf{0.707} \\
    		\hline 
    	\end{tabular}
	}
	\caption{Comparison of accuracy for the optimizers \code{COBYLA}, \code{SPSA}, \code{AMSGrad} (Adam) and \code{BFGS} over and average of 10 runs using two VQC layers for the quantum simulator evaluation runs and binary datasets.}
	\label{table:accuracy_comparison_binary_dataset_and_optimizers_simulator_runs}
\end{table}

\clearpage

\subsubsection{Extended datasets}
\label{subsubsection:extended_datasets_simulator}
\begin{table}[!h]
	\centering
	\resizebox{.95\textwidth}{!}{%
    	\begin{tabular}{p{0.12\textwidth}p{0.15\textwidth}|p{0.13\textwidth}p{0.13\textwidth}p{0.13\textwidth}p{0.13\textwidth}}
    		\hline 
    		\textbf{Dataset}        & \textbf{VQC} & \textbf{COBYLA} & \textbf{SPSA}  & \textbf{AMSGR.} & \textbf{BFGS} \\
    		\hline 
            \multirow{6}{*}{\textbf{Iris}}  & q\_circuit\_01 & 0.933  & 0.933 & -   & 0.933 \\
    		                        & q\_circuit\_02 & 0.903  & 0.933 & -   & 0.930 \\
    		                        & q\_circuit\_03 & 0.733  & 0.756 & -   & 0.800 \\
    		                        & q\_circuit\_04 & 0.906 & 0.876 & -   & 0.900 \\
    		                        & q\_circuit\_05 & 0.736 & 0.793 & -   & 0.800 \\
    		\cline{2-6} 
    		                        & \textbf{Average} & 0.843  & 0.858 & -  & \textbf{0.873} \\
    		\hline 
    		\multirow{6}{*}{\textbf{Rain}}   & q\_circuit\_01 & 0.663  & 0.657 & -   & 0.646 \\
    		                        & q\_circuit\_02 & 0.644  & 0.659 & -   & 0.644 \\
    		                        & q\_circuit\_03 & \underline{0.690} & 0.660 & -  & 0.677 \\
    		                        & q\_circuit\_04 & 0.628  & 0.630 & -   & 0.644 \\
    		                        & q\_circuit\_05 & 0.510 & 0.479 & -   & 0.545 \\
    		\cline{2-6} 
    		                        & \textbf{Average} & 0.627  & 0.617 & -  & \textbf{0.631} \\
    		\hline
    		\multirow{6}{*}{\textbf{Vlds}}   & q\_circuit\_01 & \underline{0.863}  & 0.535 & -   & 0.767 \\
    		                        & q\_circuit\_02 & 0.858  & 0.627 & -   & 0.789 \\
    		                        & q\_circuit\_03 & 0.845  & 0.740 & -   & 0.855 \\
    		                        & q\_circuit\_04 & 0.704  & 0.548 & -   & 0.720 \\
    		                        & q\_circuit\_05 & 0.465  & 0.465 & -   & 0.535 \\
    		\cline{2-6} 
    		                        & \textbf{Average} & \textbf{0.747}  & 0.583 & -   & 0.734 \\
    		\hline
    		\multirow{6}{*}{\textbf{Custom}} & q\_circuit\_01 & 0.533  & 0.525 & -   & 0.530 \\
    		                        & q\_circuit\_02 & 0.541  & 0.54 & -   & 0.522 \\
    		                        & q\_circuit\_03 & 0.525  & 0.509 & -   & 0.525 \\
    		                        & q\_circuit\_04 & 0.525  & 0.525 & -  & 0.525 \\
    		                        & q\_circuit\_05 & \underline{0.549}  & 0.526 & -   & 0.542 \\
    		\cline{2-6} 
    		                        & \textbf{Average} & \textbf{0.535} & 0.525 & -   & 0.529 \\
    		\hline 
    		\multirow{6}{*}{\textbf{Adhoc}}   & q\_circuit\_01 & 0.515  & 0.520 & -   & 0.500 \\
    		                        & q\_circuit\_02 & 0.518  & 0.545 & -   & 0.515 \\
    		                        & q\_circuit\_03 & 0.498  & 0.535 & -   & 0.533 \\
    		                        & q\_circuit\_04 & 0.515  & 0.515 & -   & 0.515 \\
    		                        & q\_circuit\_05 & 0.540  & 0.567 & -   & \underline{0.603} \\
    		\cline{2-6} 
    		                        & \textbf{Average} & 0.517  & \textbf{0.536} & -   & 0.533 \\
    		\hline 
    	\end{tabular}
	}
	\caption{Comparison of accuracy for the optimizers \code{COBYLA}, \code{SPSA}, \code{AMSGrad} (Adam) and \code{BFGS} over and average of 10 runs using two VQC layers for the quantum simulator evaluation runs and extended datasets. \textit{Note}: The results for \code{COBYLA} (Adam) have not been available at the time of writing, since the training script is still running.}
	\label{table:accuracy_comparison_extended_dataset_and_optimizers_simulator_runs}
\end{table}

\clearpage
\subsection{Evaluation On Real Hardware}
\label{subsection:qnn_evaluation_on_real_hardware}
\textbf{Quantum system}: For this, the IBM Falcon r5.11L processor \code{ibmq\_manila v1.0.30} is used, with shots per circuit being $4000$.

\subsubsection{Binary datasets}
\label{subsubsection:binary_datasets_q_computer}
\begin{table}[!h]
	\centering
	\resizebox{.95\textwidth}{!}{%
    	\begin{tabular}{p{0.12\textwidth}p{0.15\textwidth}|p{0.13\textwidth}p{0.13\textwidth}p{0.13\textwidth}p{0.13\textwidth}}
    		\hline 
    		\textbf{Dataset}        & \textbf{VQC} & \textbf{COBYLA} & \textbf{SPSA}  & \textbf{AMSGR.} & \textbf{BFGS} \\
    		\hline
    		\multirow{6}{*}{\textbf{Iris}}   & q\_circuit\_01 & 1.00  & 1.00 & 1.00    & 1.00 \\
    		                        & q\_circuit\_02 & 1.00  & 0.865 & 1.00    & 1.00 \\
    		                        & q\_circuit\_03 & 1.00  & 1.00 & 1.00    & 1.00 \\
    		                        & q\_circuit\_04 & 1.00  & 0.885 & 0.955    & 0.805 \\
    		                        & q\_circuit\_05 & 0.880  & 0.985 & 1.00    & 1.00 \\
    		\cline{2-6} 
    		                        & \textbf{Average} & 0.976  & 0.947 & \textbf{0.991}    & 0.961 \\
    		\hline
    		\multirow{6}{*}{\textbf{Vlds}}   & q\_circuit\_01 & 0.855  & 0.770 & 0.615    & 0.710 \\
    		                        & q\_circuit\_02 & 0.705  & 0.885 & 0.740    & 0.635 \\
    		                        & q\_circuit\_03 & 0.725  & 0.765 & 0.705    & 0.870 \\
    		                        & q\_circuit\_04 & 0.81  & 0.485 & 0.750    & \underline{0.950} \\
    		                        & q\_circuit\_05 & 0.755  & 0.615 & 0.745    & 0.735 \\
    		\cline{2-6} 
    		                        & \textbf{Average} & 0.770  & 0.704 & 0.711    & \textbf{0.780} \\
    		\hline
    		\multirow{6}{*}{\textbf{Rain}}   & q\_circuit\_01 & 0.495  & 0.600 & 0.71 0  & 0.665 \\
    		                        & q\_circuit\_02 & 0.710  & 0.635 & 0.715    & 0.665 \\
    		                        & q\_circuit\_03 & 0.595  & \underline{0.790} & 0.745    & 0.550 \\
    		                        & q\_circuit\_04 & 0.440  & 0.495 & 0.775    & 0.555 \\
    		                        & q\_circuit\_05 & 0.650  & 0.470 & 0.640   & 0.620 \\
    		\cline{2-6} 
    		                        & \textbf{Average} & 0.578  & 0.598 & \textbf{0.717}    & 0.611 \\
    		\hline
    		\multirow{6}{*}{\textbf{Custom}} & q\_circuit\_01  & 0.555  & 0.600 & 0.660    & 0.625 \\
    		                        & q\_circuit\_02  & 0.655  & 0.575 & 0.500    & 0.620 \\
    		                        & q\_circuit\_03  & 0.7  & 0.610 & 0.500    & 0.640 \\
    		                        & q\_circuit\_04  & 0.57  & 0.515 & 0.550    & 0.500 \\
    		                        & q\_circuit\_05  & 0.45  & 0.625 & 0.620    & \underline{0.750} \\
    		\cline{2-6} 
    		                        & \textbf{Average} & 0.586  & 0.585 & 0.566    & \textbf{0.627} \\
    		\hline 
    		\multirow{6}{*}{\textbf{Adhoc}}  & q\_circuit\_01  & 0.610  & 0.645 & 0.650    & 0.715 \\
    		                        & q\_circuit\_02 & \underline{0.745}  & \underline{0.745} & 0.665    & 0.715 \\
    		                        & q\_circuit\_03 & 0.675  & 0.695 & 0.665    & 0.715 \\
    		                        & q\_circuit\_04 & 0.650  & 0.650 & 0.655    & 0.65 \\
    		                        & q\_circuit\_05 & 0.605  & 0.680 & 0.635    & 0.715 \\
    		\cline{2-6} 
    		                        & \textbf{Average} & 0.657  & 0.683 & 0.654    & \textbf{0.702} \\
    		\hline 
    	\end{tabular}
    }
	\caption{Comparison of accuracy for the optimizers \code{COBYLA}, \code{SPSA}, \code{AMSGrad} (Adam) and \code{BFGS} over and average of 10 runs using two VQC layers – bound to the weights of the highest scoring trainings run – for the quantum computer evaluation runs and binary datasets.}
	\label{table:accuracy_comparison_binary_dataset_and_optimizers_evaluation_runs}
\end{table}

\clearpage

\subsubsection{Extended datasets}
\label{subsubsection:extended_datasets_q_computer}
\begin{table}[!h]
	\centering
	\resizebox{.95\textwidth}{!}{%
    	\begin{tabular}{p{0.12\textwidth}p{0.15\textwidth}|p{0.13\textwidth}p{0.13\textwidth}p{0.13\textwidth}p{0.13\textwidth}}
    		\hline 
    		\textbf{Dataset}        & \textbf{VQC} & \textbf{COBYLA} & \textbf{SPSA}  & \textbf{AMSGR.} & \textbf{BFGS} \\
    		\hline 
    		\multirow{6}{*}{\textbf{Iris}}   & q\_circuit\_01 & 0.856  & 0.910 & -   & 0.910 \\
    		                        & q\_circuit\_02 & 0.943  & 0.916 & -   & 0.840 \\
    		                        & q\_circuit\_03 & 0.703  & 0.730 & -   & 0.770 \\
    		                        & q\_circuit\_04 & 0.900  & 0.866 & -   & 0.900 \\
    		                        & q\_circuit\_05 & 0.710  & 0.770 & -   & 0.763 \\
    		\cline{2-6} 
    		                        & \textbf{Average} & 0.823  & \textbf{0.838} & -   & 0.836 \\
    		\hline 
    		\multirow{6}{*}{\textbf{Rain}}   & q\_circuit\_01 & 0.500  & 0.512 & -   & 0.458 \\
    		                        & q\_circuit\_02 & 0.460 & 0.522 & -   & 0.500 \\
    		                        & q\_circuit\_03 & 0.465 & 0.507 & -  & 0.504 \\
    		                        & q\_circuit\_04 & 0.500 & 0.461 & -   & 0.505 \\
    		                        & q\_circuit\_05 & 0.497 & 0.497 & -   & \underline{0.530} \\
    		\cline{2-6} 
    		                        & \textbf{Average} & 0.485  & \textbf{0.500} & -  & \textbf{0.500} \\
    		\hline
    		\multirow{6}{*}{\textbf{Vlds}}   & q\_circuit\_01 & 0.543  & 0.535 & -   & 0.528 \\
    		                        & q\_circuit\_02 & 0.514  & 0.517 & -   & 0.553 \\
    		                        & q\_circuit\_03 & \underline{0.560}  & 0.556 & -   & 0.556 \\
    		                        & q\_circuit\_04 & 0.549  & 0.545 & -   & 0.555 \\
    		                        & q\_circuit\_05 & 0.465  & 0.515 & -   & 0.515 \\
    		\cline{2-6} 
    		                        & \textbf{Average} & 0.526  & 0.534 & -   & \textbf{0.542} \\
    		\hline
    		\multirow{6}{*}{\textbf{Custom}} & q\_circuit\_01 & 0.506  & 0.485 & -   & 0.459 \\
    		                        & q\_circuit\_02 & 0.484  & 0.491 & -   & 0.467 \\
    		                        & q\_circuit\_03 & 0.525  & 0.538 & -   & 0.525 \\
    		                        & q\_circuit\_04 & 0.525  & 0.525 & -  & 0.525 \\
    		                        & q\_circuit\_05 & \underline{0.557}  & 0.454 & -   & 0.496 \\
    		\cline{2-6} 
    		                        & \textbf{Average} & \textbf{0.520} & 0.499 & -   & 0.495 \\
    		\hline 
    		\multirow{6}{*}{\textbf{Adhoc}}  & q\_circuit\_01 & 0.515  & \underline{0.566} & -   & 0.501 \\
    		                        & q\_circuit\_02 & 0.486  & 0.487 & -   & 0.515 \\
    		                        & q\_circuit\_03 & 0.500  & 0.484 & -   & 0.52 \\
    		                        & q\_circuit\_04 & 0.515 & 0.515 & -   & 0.515 \\
    		                        & q\_circuit\_05 & 0.505 & 0.501 & -   & 0.484 \\
    		\cline{2-6} 
    		                        & \textbf{Average} & 0.504  & 0.511 & -  & 0.507 \\
    		\hline 
    	\end{tabular}
	}
	\caption{Comparison of accuracy for the optimizers \code{COBYLA}, \code{SPSA}, \code{AMSGrad} (Adam) and \code{BFGS} over and average of 10 runs using two VQC layers - bound to the weights of the highest scoring trainings run - for the quantum computer evaluation runs and extended datasets. \textit{Note}: The results for \code{AMSGrad} (Adam) have not been available at the time of writing since the training script is still running.}
	\label{table:accuracy_comparison_extended_dataset_and_optimizers_evaluation_runs}
\end{table}

\clearpage

\subsection{Optimizer Boxplots}
\label{subsubsection:optimizer_boxplots}

\subsubsection{Binary datasets}
\label{subsubsection:binary_datasets_boxplots}
The following figure \ref{figure:accuracy_comparison_boxplots_binary_datasets} shows boxplots for the achieved accuracy per dataset and optimizer for the QNN evaluation runs on the simulator and quantum computer.

\begin{figure}[!ht]
    \centering
    \\[-3ex]
    \begin{subfigure}{1.0\textwidth}
        \centering
        \subcaption{Iris}
        \includegraphics[width=1.0\linewidth]{thesis/Figures/qnn/boxplots/100_iris.png} 
        \label{subfigure:accuracy_comparison_boxplots_iris_binary_dataset}
    \end{subfigure}
    \\[-3ex]
    \begin{subfigure}{1.0\textwidth}
        \centering
        \subcaption{Rain}
        \includegraphics[width=1.0\linewidth]{thesis/Figures/qnn/boxplots/100_rain.png} 
        \label{subfigure:accuracy_comparison_boxplots_rain_binary_dataset}
    \end{subfigure}
    \\[-3ex]
    \begin{subfigure}{1.0\textwidth}
        \centering
        \subcaption{Vlds}
        \includegraphics[width=1.0\linewidth]{thesis/Figures/qnn/boxplots/100_vlds.png} 
        \label{subfigure:accuracy_comparison_boxplots_vlds_binary_dataset}
    \end{subfigure}
    \\[-3ex]
    \begin{subfigure}{1.0\textwidth}
        \centering
        \subcaption{Custom}
        \includegraphics[width=1.0\linewidth]{thesis/Figures/qnn/boxplots/100_custom.png}
        \label{subfigure:accuracy_comparison_boxplots_custom_binary_dataset}
    \end{subfigure}
    \\[-3ex]
    \begin{subfigure}{1.0\textwidth}
        \centering
        \subcaption{Adhoc}
        \includegraphics[width=1.0\linewidth]{thesis/Figures/qnn/boxplots/100_adhoc.png}
        \label{subfigure:accuracy_comparison_boxplots_adhoc_binary_dataset}
    \end{subfigure}
    \\[-3ex]
    \caption{Average accuracy comparison of 10 runs on the quantum simulator and computer for all binary datasets, circuits and optimizers.}
    \label{figure:accuracy_comparison_boxplots_binary_datasets}
\end{figure}

\clearpage

\subsubsection{Extended datasets}
\label{subsubsection:extended_datasets_boxplots}
The following figure \ref{figure:accuracy_comparison_boxplots_binary_datasets} shows boxplots for the achieved accuracy per dataset and optimizer for the QNN evaluation runs.

\begin{figure}[!ht]
    \centering
    \\[-3ex]
    \begin{subfigure}{1.0\textwidth}
        \centering
        \subcaption{Iris}
        \includegraphics[width=1.0\linewidth]{thesis/Figures/qnn/boxplots/1000_iris.png} 
        \label{subfigure:accuracy_comparison_boxplots_iris_extended_dataset}
    \end{subfigure}
    \\[-3ex]
    \begin{subfigure}{1.0\textwidth}
        \centering
        \subcaption{Rain}
        \includegraphics[width=1.0\linewidth]{thesis/Figures/qnn/boxplots/1000_rain.png} 
        \label{subfigure:accuracy_comparison_boxplots_rain_extended_dataset}
    \end{subfigure}
    \\[-3ex]
    \begin{subfigure}{1.0\textwidth}
        \centering
        \subcaption{Vlds}
        \includegraphics[width=1.0\linewidth]{thesis/Figures/qnn/boxplots/1000_vlds.png} 
        \label{subfigure:accuracy_comparison_boxplots_vlds_extended_dataset}
    \end{subfigure}
    \\[-3ex]
    \begin{subfigure}{1.0\textwidth}
        \centering
        \subcaption{Custom}
        \includegraphics[width=1.0\linewidth]{thesis/Figures/qnn/boxplots/1000_custom.png}
        \label{subfigure:accuracy_comparison_boxplots_custom_extended_dataset}
    \end{subfigure}
    \\[-3ex]
    \begin{subfigure}{1.0\textwidth}
        \centering
        \subcaption{Adhoc}
        \includegraphics[width=1.0\linewidth]{thesis/Figures/qnn/boxplots/1000_adhoc.png}
        \label{subfigure:accuracy_comparison_boxplots_adhoc_extended_dataset}
    \end{subfigure}
    \\[-3ex]
    \caption{Average accuracy comparison of 10 runs on the quantum simulator and computer for all extended datasets, circuits and optimizers.}
    \label{figure:accuracy_comparison_boxplots_extended_datasets}
\end{figure}

\clearpage
\subsection{Accuracy QNN}
Results shown here reflect the accuracy of the best approach for each of the circuits and optimizers.

\subsubsection{Binary datasets}
\label{subsubsection:binary_datasets_comparison}
Table \ref{table:comparison_binary_datasets_accuracy} compares the achieved accuracy from the executed QNN experiments and the QSVM experiments from the project thesis of Smailov et al.\cite{smailovQuantumMachineLearning2021} for the binary datasets.
\begin{table}[!h]
	\centering
	\begin{tabular}{r|cc|cc}
		\hline 
		\thead{Dataset} & \thead{QNN\\(Simulator)} & \thead{QNN\\(Computer)} & \thead{QSVM\\(Simulator)} & \thead{QSVM\\(Computer)} \\
		\hline 
		Iris    & 1.00     & 1.00    & 1.00    & 1.00   \\
		Rain    & 0.825    & 0.790   & 0.770   & 0.700  \\
		Vlds    & 0.925    & 0.950   & 0.860   & 0.900  \\
		Custom  & 0.740    & 0.750   & 0.760   & 0.760  \\
		Adhoc   & 0.800    & 0.745   & 0.650   & 0.600  \\
		\hline
		\textbf{Average}  & \textbf{0.858} & \textbf{0.847} & \textbf{0.810} & \textbf{0.800}  \\
		\hline
	\end{tabular}
	\caption{Comparison of the QNN and QSVM accuracy on a quantum simulator as well as on a real quantum computer. The table shows the accuracy of the best approach for each of the VQCs and optimizer types using the binary datasets compared to the quantum support vector machine results from \cite{smailovQuantumMachineLearning2021}.}
	\label{table:comparison_binary_datasets_accuracy}
\end{table}

\subsubsection{Extended datasets}
\label{subsubsection:extended_datasets_comparison}
Table \ref{table:comparison_extended_datasets_accuracy} shows the achieved accuracy from the executed QNN experiments with the extended datasets using the best approach for each dataset, circuit and optimizer. 
\begin{table}[!h]
	\centering
	\begin{tabular}{r|cc}
		\hline 
		\thead{Dataset} & \thead{QNN\\(Simulator)} & \thead{QNN\\(Computer)} \\
		\hline 
		Iris    & 0.933 & 0.943 \\
		Rain    & 0.690 & 0.530 \\
		Vlds    & 0.863 & 0.560 \\
		Custom  & 0.549 & 0.557 \\
		Adhoc   & 0.603 & 0.566 \\
		\hline
		\textbf{Average}  & \textbf{0.728} & \textbf{0.631}  \\
		\hline
	\end{tabular}
	\caption{QNN accuracy on a quantum simulator as well as on a real quantum computer. The table shows the accuracy of the best approach for each of the VQCs and optimizer types using the extended datasets.}
	\label{table:comparison_extended_datasets_accuracy}
\end{table}

\clearpage











%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Multiple Query Optimization}
\label{chapter:results_mqo}

The non-ML circuit as well as the ML optimized one are run on the simulator as well as on real hardware. For this, the IBM Falcon r4L processor \code{ibmq\_bogota v1.6.37} is used. Each circuit runs 13 times and both circuits are evaluated using filtered and parity evaluation. The runs are made on a problem space $\left|\mathcal{D}_{2\times2}\right| =\ 300$, out of which 25\%, so 75 records, are taken and evaluated. These 75 records are the same used in the evaluation of the ML optimized circuit in chapter \ref{chapter:mqo_machine_learning}. The results are shown in figures \ref{figure:comparison_ml_noml_filtered_acc} - \ref{figure:ml_rhw_dist}.

\begin{figure}[!h]
    \centering
    \scalebox{\resultboxplot}{
        \includesvg{thesis/Appendices/comparison_ml_noml_circuit_filtered_acc.svg}
    }
    \caption{Direct comparison of the non-ML and ML circuits in terms of accuracy, once on the simulator (annotated with SIM) and once on real hardware (annotated with RHW). The accuracy is determined by the amount of the best combinations the circuit evaluated to. The measured data is passed through a filtered evaluation, which only considers valid combinational keys as results and not all. The ML circuit is not optimized with the filtered evaluation, but with the parity evaluation.}
    \label{figure:comparison_ml_noml_filtered_acc}
\end{figure}

\newpage

\begin{figure}[!h]
    \centering
    \scalebox{\resultboxplot}{
        \includesvg{thesis/Appendices/comparison_ml_noml_circuit_parity_acc.svg}
    }
    \caption{Direct comparison of the non-ML and ML circuits in terms of accuracy, once on the simulator (annotated with SIM) and once on real hardware (annotated with RHW). The accuracy is determined by the amount of the best combinations the circuit evaluated to. The measured data is passed through a parity evaluation, which takes the key with the highest probability.}
    \label{figure:comparison_ml_noml_parity_acc}
\end{figure}

The distance evaluation is done solely using the filtered evaluation method, as this results in the best accuracy, as shown in figures \ref{figure:comparison_ml_noml_filtered_acc} and \ref{figure:comparison_ml_noml_parity_acc}.

\begin{figure}[!h]
    \centering
    \scalebox{\resultboxplot}{
        \includesvg{thesis/Appendices/comparison_noml_sim_f_distance.svg}
    }
    \caption{Distance of the evaluated result to the best combination, where "Best" is the accumulation of how often the circuit evaluated onto the best combination, "2nd" being the second-best combination etc. The non-ML circuit is run on the simulator and uses the filtered evaluation.}
    \label{figure:noml_sim_distance}
\end{figure}

\begin{figure}[!h]
    \centering
    \scalebox{\resultboxplot}{
        \includesvg{thesis/Appendices/comparison_noml_rhw_f_distance.svg}
    }
    \caption{Distance of the evaluated result to the best combination, where "Best" is the accumulation of how often the circuit evaluated onto the best combination, "2nd" being the second-best combination etc. The non-ML circuit is run on real hardware and uses the filtered evaluation.}
    \label{figure:noml_rhw_dist}
\end{figure}

\begin{figure}[!h]
    \centering
    \scalebox{\resultboxplot}{
        \includesvg{thesis/Appendices/comparison_ml_sim_distanec.svg}
    }
    \caption{Distance of the evaluated result to the best combination, where "Best" is the accumulation of how often the circuit evaluated onto the best combination, "2nd" being the second-best combination etc. The ML circuit is run on the simulator and uses the filtered evaluation.}
    \label{figure:ml_sim_distance}
\end{figure}



\begin{figure}[!h]
    \centering
    \scalebox{\resultboxplot}{
        \includesvg{thesis/Appendices/comparison_ml_rhw_distanec.svg}
    }
    \caption{Distance of the evaluated result to the best combination, where "Best" is the accumulation of how often the circuit evaluated onto the best combination, "2nd" being the second-best combination etc. The ML circuit is run on real hardware and uses the filtered evaluation.}
    \label{figure:ml_rhw_dist}
\end{figure}

\clearpage

To further evaluate both circuits with new, unseen data, the runs are executed again using a newly generated problem space $\left|\mathcal{D}_{2\times2}\right| =\ 1000$.

\begin{figure}[!h]
    \centering
    \scalebox{\resultboxplot}{
        \includesvg{thesis/Appendices/blind_run_noml_circuit_acc.svg}
    }
    \caption{Direct comparison of simulator and real hardware runs for the non-ML circuit in terms of accuracy, once on the simulator (annotated with SIM) and once on real hardware (annotated with RHW). The accuracy is determined by the amount of the best combinations the circuit evaluated to. The measured data is passed trough a filtered evaluation, which only considers valid combinational keys as results and not all.}
    \label{figure:blind_run_noml_circuit_acc}
\end{figure}

\begin{figure}[!h]
    \centering
    \scalebox{\resultboxplot}{
        \includesvg{thesis/Appendices/blind_run_ml_circuit_f_acc.svg}
    }
    \caption{Direct comparison of simulator and real hardware runs for the ML circuit in terms of accuracy, once on the simulator (annotated with SIM) and once on real hardware (annotated with RHW). The accuracy is determined by the amount of the best combinations the circuit evaluated to. The measured data is passed trough a filtered evaluation, which only considers valid combinational keys as results and not all.}
    \label{figure:blind_run_ml_circuit_f_acc}
\end{figure}

\begin{figure}[!h]
    \centering
    \scalebox{\resultboxplot}{
        \includesvg{thesis/Appendices/blind_run_ml_circuit_p_acc.svg}
    }
    \caption{Direct comparison of simulator and real hardware runs for the ML circuit in terms of accuracy, once on the simulator (annotated with SIM) and once on real hardware (annotated with RHW). The accuracy is determined by the amount of the best combinations the circuit evaluated to. The measured data is passed trough a parity evaluation, which takes the key with the highest probability.}
    \label{figure:blind_run_ml_circuit_p_acc}
\end{figure}

\newpage

\subsection{Advanced Problem Spaces}
\label{chapter:results_advanced_problem_spaces}
As shown in chapter \ref{chapter:approach_and_methods}, the original problem generator was enhanced to allow for any combination of plans to be solved. As shown in chapter \ref{chapter:results_mqo}, the non-ML circuit achieves a better accuracy than its ML counterpart, whilst only losing marginal accuracy when running on real hardware. Due to this and time constraints as well as the limitation of quantum hardware to 5 qubits, these \emph{dynamic} runs are done solely on the simulator using filtered evaluation and the non-ML circuit. The problem spaces are dynamically generated and always of size $\left|\mathcal{D}\right| =\ 5000$. Figure \ref{figure:overview_dynamic_problems} shows a comparison of all evaluated problem spaces $\mathcal{D}$, whilst figures \ref{figure:overview_dynamic_problems} to \ref{figure:bars_dist_3_3_3} show the distances of each run in detail.


\begin{figure}[!h]
    \centering
    \scalebox{\resultboxplot}{
        \includesvg{thesis/Appendices/comparison_accuracy_dynamic_problems.svg}
    }
    \caption{Comparison of different problem spaces $\left|\mathcal{D}\right| =\ 5000$ solved on the non-ML circuit. The accuracy reflects how often the evaluation led to the best combination. The x-axis is annotated with the plans per query.}
    \label{figure:overview_dynamic_problems}
\end{figure}

\begin{figure}[!h]
    \centering
    \scalebox{\resultboxplot}{
        \includesvg{thesis/Appendices/dynamic_problem_2_q_['2', '3']_p_dist.svg}
    }
    \caption{Distance of the evaluated result to the best combination, where "0" is the accumulation of how often the circuit evaluated onto the best combination, "1" being the second-best combination etc. The non-ML circuit is run on the simulator and uses the filtered evaluation. The problem space $\mathcal{D}$ consists of 2 queries, with one query having 2 and the other having 3 plans.}
    \label{figure:bars_dist_2_3}
\end{figure}

\begin{figure}[!h]
    \centering
    \scalebox{\resultboxplot}{
        \includesvg{thesis/Appendices/dynamic_problem_2_q_['3', '2']_p_dist.svg}
    }
    \caption{Distance of the evaluated result to the best combination, where "0" is the accumulation of how often the circuit evaluated onto the best combination, "1" being the second-best combination etc. The non-ML circuit is run on the simulator and uses the filtered evaluation. The problem space $\mathcal{D}$ consists of 2 queries, with one query having 3 and the other having 2 plans.}
    \label{figure:bars_dist_3_2}
\end{figure}

\begin{figure}[!h]
    \centering
    \scalebox{\resultboxplot}{
        \includesvg{thesis/Appendices/dynamic_problem_2_q_['3', '3']_p_dist.svg}
    }
    \caption{Distance of the evaluated result to the best combination, where "0" is the accumulation of how often the circuit evaluated onto the best combination, "1" being the second-best combination etc. The non-ML circuit is run on the simulator and uses the filtered evaluation. The problem space $\mathcal{D}$ consists of 2 queries, with both having 3 plans.}
    \label{figure:bars_dist_3_3}
\end{figure}

\begin{figure}[!ht]
    \centering
    \scalebox{\resultboxplot}{
        \includesvg{thesis/Appendices/dynamic_problem_2_q_['4', '2']_p_dist.svg}
    }
    \caption{Distance of the evaluated result to the best combination, where "0" is the accumulation of how often the circuit evaluated onto the best combination, "1" being the second-best combination etc. The non-ML circuit is run on the simulator and uses the filtered evaluation. The problem space $\mathcal{D}$ consists of 2 queries, with one query having 4 and the other having 2 plans.}
    \label{figure:bars_dist_4_2}
\end{figure}

\begin{figure}[!h]
    \centering
    \scalebox{\resultboxplot}{
        \includesvg{thesis/Appendices/dynamic_problem_2_q_['4', '3']_p_dist.svg}
    }
    \caption{Distance of the evaluated result to the best combination, where "0" is the accumulation of how often the circuit evaluated onto the best combination, "1" being the second-best combination etc. The non-ML circuit is run on the simulator and uses the filtered evaluation. The problem space $\mathcal{D}$ consists of 2 queries, with one query having 4 and the other having 3 plans.}
    \label{figure:bars_dist_4_3}
\end{figure}

\begin{figure}[!h]
    \centering
    \scalebox{\resultboxplot}{
        \includesvg{thesis/Appendices/dynamic_problem_2_q_['4', '4']_p_dist.svg}
    }
    \caption{Distance of the evaluated result to the best combination, where "0" is the accumulation of how often the circuit evaluated onto the best combination, "1" being the second-best combination etc. The non-ML circuit is run on the simulator and uses the filtered evaluation. The problem space $\mathcal{D}$ consists of 2 queries, with both having 4 plans.}
    \label{figure:bars_dist_4_4}
\end{figure}

\begin{figure}[!h]
    \centering
    \scalebox{\resultboxplot}{
        \includesvg{thesis/Appendices/dynamic_problem_3_q_['2', '2', '2']_p_dist.svg}
    }
    \caption{Distance of the evaluated result to the best combination, where "0" is the accumulation of how often the circuit evaluated onto the best combination, "1" being the second-best combination etc. The non-ML circuit is run on the simulator and uses the filtered evaluation. The problem space $\mathcal{D}$ consists of 3 queries, with each having 2 plans.}
    \label{figure:bars_dist_2_2_2}
\end{figure}

\begin{figure}[!h]
    \centering
    \scalebox{\resultboxplot}{
        \includesvg{thesis/Appendices/dynamic_problem_3_q_['2', '3', '2']_p_dist.svg}
    }
    \caption{Distance of the evaluated result to the best combination, where "0" is the accumulation of how often the circuit evaluated onto the best combination, "1" being the second-best combination etc. The non-ML circuit is run on the simulator and uses the filtered evaluation. The problem space $\mathcal{D}$ consists of 3 queries, with two having 2 plans and the third one having 3 plans.}
    \label{figure:bars_dist_2_3_2}
\end{figure}

\begin{figure}[!h]
    \centering
    \scalebox{\resultboxplot}{
        \includesvg{thesis/Appendices/dynamic_problem_3_q_['3', '2', '3']_p_dist.svg}
    }
    \caption{Distance of the evaluated result to the best combination, where "0" is the accumulation of how often the circuit evaluated onto the best combination, "1" being the second-best combination etc. The non-ML circuit is run on the simulator and uses the filtered evaluation. The problem space $\mathcal{D}$ consists of 3 queries, with two having 3 plans and the third one having 2 plans.}
    \label{figure:bars_dist_3_2_3}
\end{figure}

\begin{figure}[!h]
    \centering
    \scalebox{\resultboxplot}{
        \includesvg{thesis/Appendices/dynamic_problem_3_q_['3', '3', '3']_p_dist.svg}
    }
    \caption{Distance of the evaluated result to the best combination, where "0" is the accumulation of how often the circuit evaluated onto the best combination, "1" being the second-best combination etc. The non-ML circuit is run on the simulator and uses the filtered evaluation. The problem space $\mathcal{D}$ consists of 3 queries, with each having 3 plans.}
    \label{figure:bars_dist_3_3_3}
\end{figure}

\begin{sidewaysfigure}
    \centering
    \scalebox{1.0}{
\Qcircuit @C=1.0em @R=0.2em @!R { \\
                \nghost{{q}_{0} :  } & \lstick{{q}_{0} :  } & \gate{\mathrm{H}} \barrier[0em]{4} & \qw & \gate{\mathrm{R_Y}\,(\mathrm{-1.0*c0})} \barrier[0em]{4} & \qw & \ctrl{3} & \ctrl{4} & \qw & \qw & \qw & \qw \barrier[0em]{4} & \qw & \gate{\mathrm{R_X}\,(\frac{\pi}{4})} \barrier[0em]{4} & \qw & \qw & \qw\\
                \nghost{{q}_{1} :  } & \lstick{{q}_{1} :  } & \gate{\mathrm{H}} & \qw & \gate{\mathrm{R_Y}\,(\mathrm{-1.0*c1})} & \qw & \qw & \qw & \ctrl{2} & \ctrl{3} & \qw & \qw & \qw & \gate{\mathrm{R_X}\,(\frac{\pi}{4})} & \qw & \qw & \qw\\
                \nghost{{q}_{2} :  } & \lstick{{q}_{2} :  } & \gate{\mathrm{H}} & \qw & \gate{\mathrm{R_Y}\,(\mathrm{-1.0*c2})} & \qw & \qw & \qw & \qw & \qw & \ctrl{1} & \ctrl{2} & \qw & \gate{\mathrm{R_X}\,(\frac{\pi}{4})} & \qw & \qw & \qw\\
                \nghost{{q}_{3} :  } & \lstick{{q}_{3} :  } & \gate{\mathrm{H}} & \qw & \gate{\mathrm{R_Y}\,(\mathrm{-1.0*c3})} & \qw & \gate{\mathrm{R_Z}\,(\mathrm{s03})} & \qw & \gate{\mathrm{R_Z}\,(\mathrm{s13})} & \qw & \gate{\mathrm{R_Z}\,(\mathrm{s23})} & \qw & \qw & \gate{\mathrm{R_X}\,(\frac{\pi}{4})} & \qw & \qw & \qw\\
                \nghost{{q}_{4} :  } & \lstick{{q}_{4} :  } & \gate{\mathrm{H}} & \qw & \gate{\mathrm{R_Y}\,(\mathrm{-1.0*c4})} & \qw & \qw & \gate{\mathrm{R_Z}\,(\mathrm{s04})} & \qw & \gate{\mathrm{R_Z}\,(\mathrm{s14})} & \qw & \gate{\mathrm{R_Z}\,(\mathrm{s24})} & \qw & \gate{\mathrm{R_X}\,(\frac{\pi}{4})} & \qw & \qw & \qw\\
\\ }}
    \caption{Non-ML circuit dynamically generated for the problem space $\mathcal{D}$ with 2 queries, where one has 3 plans and the other 2 plans. This circuit evaluated and produces the results shown in figure \ref{figure:bars_dist_3_2}}
    \label{circuit:noml_dyn_problem}
\end{sidewaysfigure}

\newpage